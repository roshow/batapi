"use strict";angular.module("thinkagainbatmanApp",["ngResource","ngRoute"]).config(["$routeProvider",function(a){a.when("/thought",{templateUrl:"views/thought.html",controller:"ThoughtCtrl"}).when("/thought/:batId",{templateUrl:"views/thought.html",controller:"ThoughtCtrl"}).otherwise({redirectTo:"/thought"})}]),angular.module("thinkagainbatmanApp").controller("ThoughtCtrl",["$scope","$routeParams","$location","GetAThought",function(a,b,c,d){if(a.getRandom=function(){d.random(function(a){c.path("thought/"+a.id)})},b.batId){var e=24===b.batId.length?{_id:b.batId}:{id:b.batId};a.thought=d.query(e)}else a.getRandom()}]),angular.module("thinkagainbatmanApp").factory("GetAThought",["$resource",function(a){return a("http://thinkingaboutbatman.herokuapp.com/thought/:id",{},{query:{method:"GET",responseType:"json",transformResponse:function(a){return a.docs[0]},sArray:!1},random:{method:"GET",params:{random:!0},responseType:"json",transformResponse:function(a){return a.docs[0]},isArray:!1}})}]),angular.module("thinkagainbatmanApp").directive("backImg",function(){return function(a,b,c){c.$observe("backImg",function(a){var c=Math.floor(3*Math.random()),d=new Image;b.html('<img id="batspinner" src="http://roshow.net/public/images/thinkbatman/spinners/batspinner_'+c+'.jpg">'),d.onload=function(){b.html(""),b.css({"background-image":"url("+a+")"})},d.src=a})}}).directive("backSize",function(){return function(a,b,c){c.$observe("backSize",function(a){b.css({"background-size":a})})}});