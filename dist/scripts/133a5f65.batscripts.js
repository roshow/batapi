"use strict";angular.module("thinkagainbatmanApp",["ngResource","ngRoute"]).config(["$routeProvider",function(a){a.when("/thought",{templateUrl:"views/thought.html",controller:"ThoughtController"}).when("/thought/:batId",{templateUrl:"views/thought.html",controller:"ThoughtController"}).otherwise({redirectTo:"/thought"})}]),angular.module("thinkagainbatmanApp").controller("ThoughtController",["$scope","$routeParams","$location","GetAThought",function(a,b,c,d){if(a.batSpinner="http://roshow.net/public/images/thinkbatman/spinners/batspinner_"+Math.floor(3*Math.random())+".jpg",a.batLoading=!0,a.getRandom=function(){d.random(function(a){c.path("thought/"+a.docs[0]._id)})},b.batId){var e={id:b.batId};d.query(e).$promise.then(function(b){a.thought=b.docs[0],a.batLoading=!1})}else a.getRandom()}]),angular.module("thinkagainbatmanApp").factory("GetAThought",["$resource",function(a){return a("http://www.thinkingaboutbatman.com/thought/:id",{},{query:{method:"GET",isArray:!1},random:{method:"GET",params:{random:!0},isArray:!1}})}]),angular.module("thinkagainbatmanApp").directive("backImg",function(){return{restrict:"A",scope:{backImg:"=",batLoaded:"="},link:function(a,b){a.$watch("backImg",function(c){if(c&&c.src){var d=new Image;d.onload=function(){a.batLoaded=!0,b.css({"background-image":"url("+c.src+")","background-size":c.scale}),a.$apply()},d.src=c.src,a.batLoaded=!1}})}}}).directive("linkTo",["$location",function(a){return function(b,c,d){c.on("click",function(){a.path(d.linkTo).replace(),b.$apply()})}}]);